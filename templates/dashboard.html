<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <title>–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/modals.css">

</head>

<body>
    <header>
        <div class="logo">
            DevTrail
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="/dashboard">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                <li><a href="/settings">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</a></li>
                <li><a href="/logout">–í–∏–π—Ç–∏</a></li>
                <li>
                    <a href="https://github.com/login/oauth/authorize?scope=repo&client_id={{.OAuthInfo.ClientID}}"
                        class="outline-btn">Login via GitHub</a>
                </li>
            </ul>
        </nav>
    </header>
    <div class="card welcome-card">
        <h1>–ü—Ä–∏–≤—ñ—Ç, {{.Username}}!</h1>
        <p>–í—ñ—Ç–∞—é –≤ —Ç–≤–æ—î–º—É –∫–∞–±—ñ–Ω–µ—Ç—ñ.</p>
        <a href="/logout">–í–∏–π—Ç–∏</a>
    </div>
    <div class="card">
        <div id="create-project-form" class="hidden_button">
            <form method="POST" action="/create-project">
                <input type="text" name="name" placeholder="Project name" required>
                <input type="text" name="description" placeholder="Project description"></textarea>
                <button type="submit">Create</button>
            </form>
        </div>
        <button id="create-project-button" onclick="toggleForm()">Create new Project</button>
        <button id="github-repo-btn" onclick="toggleReposList()">Project from GitHub repo</button>
        <!-- <button id="close-github-repo-btn" class="hidden_button" onclick="closeRepos()">Close</button> -->
        <div id="github-repo-list"></div>
        <div id="github-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close" onclick="closeGithubModal()">&times;</span>
                <h2 id="modal-repo-name"></h2>
                <form id="import-github-form" onsubmit="return importGithubProject(event)">
                    <input type="hidden" name="repo_full_name" id="modal-repo-fullname">
                    <label>Project name:</label>
                    <input type="text" name="name" id="modal-project-name" required>
                    <label>Description:</label>
                    <input type="text" name="description" id="modal-project-desc">
                    <button type="submit">–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏</button>
                </form>
            </div>
        </div>
    </div>
    <div class="projects-grid">
        {{range .Projects}}
        <div class="card" id="project-{{.ProjectID}}" onclick="loadProject('{{ .ProjectID }}')">
            <h2>{{.Name}}</h2>
            <p>{{.Description}}</p>
            <p>ID: {{.ProjectID}}</p>
            <button onclick="event.stopPropagation(); deleteProject('{{ .ProjectID }}')">üóë –í–∏–¥–∞–ª–∏—Ç–∏</button>
        </div>
        {{end}}
    </div>

</body>

<script src="/static/js/dashboard.js"></script>

</html>